{"remainingRequest":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\vue-kanban\\src\\components\\Kanban.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\vue-kanban\\src\\components\\Kanban.vue","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFndWxhIGZyb20gJ2RyYWd1bGEnOwppbXBvcnQgeyBNYWNoaW5lIH0gZnJvbSAneHN0YXRlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnS2FuYmFuQm9hcmQnLAoKICBwcm9wczogewogICAgc3RhZ2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICBibG9ja3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIGNvbmZpZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSksCiAgICB9LAogICAgc3RhdGVNYWNoaW5lQ29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBpZFByb3A6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnaWQnLAogICAgfSwKICAgIHN0YXR1c1Byb3A6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnc3RhdHVzJywKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hY2hpbmU6IG51bGwsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBsb2NhbEJsb2NrcygpIHsKICAgICAgcmV0dXJuIHRoaXMuYmxvY2tzOwogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRCbG9ja3Moc3RhdHVzKSB7CiAgICAgIHJldHVybiB0aGlzLmxvY2FsQmxvY2tzLmZpbHRlcihibG9jayA9PiBibG9ja1t0aGlzLnN0YXR1c1Byb3BdID09PSBzdGF0dXMpOwogICAgfSwKCiAgICBmaW5kUG9zc2libGVUcmFuc2l0aW9ucyhzb3VyY2VTdGF0ZSkgewogICAgICByZXR1cm4gdGhpcy5tYWNoaW5lLmNvbmZpZy5zdGF0ZXNbc291cmNlU3RhdGVdLm9uIHx8IHt9OwogICAgfSwKCiAgICBmaW5kVHJhbnNpdGlvbih0YXJnZXQsIHNvdXJjZSkgewogICAgICBjb25zdCB0YXJnZXRTdGF0ZSA9IHRhcmdldC5kYXRhc2V0LnN0YXR1czsKICAgICAgY29uc3Qgc291cmNlU3RhdGUgPSBzb3VyY2UuZGF0YXNldC5zdGF0dXM7CiAgICAgIGNvbnN0IHBvc3NpYmxlVHJhbnNpdGlvbnMgPSB0aGlzLmZpbmRQb3NzaWJsZVRyYW5zaXRpb25zKHNvdXJjZVN0YXRlKTsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHBvc3NpYmxlVHJhbnNpdGlvbnMpCiAgICAgICAgLmZpbmQodHJhbnNpdGlvbiA9PiBwb3NzaWJsZVRyYW5zaXRpb25zW3RyYW5zaXRpb25dID09PSB0YXJnZXRTdGF0ZSk7CiAgICB9LAoKICAgIGFjY2VwdHMoYmxvY2ssIHRhcmdldCwgc291cmNlKSB7CiAgICAgIGlmICghdGhpcy5tYWNoaW5lKSByZXR1cm4gdHJ1ZTsKICAgICAgY29uc3QgdGFyZ2V0U3RhdGUgPSB0YXJnZXQuZGF0YXNldC5zdGF0dXM7CiAgICAgIGNvbnN0IHNvdXJjZVN0YXRlID0gc291cmNlLmRhdGFzZXQuc3RhdHVzOwogICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmZpbmRQb3NzaWJsZVRyYW5zaXRpb25zKHNvdXJjZVN0YXRlKSkuaW5jbHVkZXModGFyZ2V0U3RhdGUpOwogICAgfSwKCiAgICBhbGxvd2VkVGFyZ2V0cyhlbCwgc291cmNlKSB7CiAgICAgIGNvbnN0IGJsb2NrID0gdGhpcy5sb2NhbEJsb2Nrcy5maW5kKGIgPT4gYlt0aGlzLmlkUHJvcF0gPT09IGVsLmRhdGFzZXQuYmxvY2tJZCk7CiAgICAgIHJldHVybiB0aGlzLmRyYWtlLmNvbnRhaW5lcnMuZmlsdGVyKGMgPT4gdGhpcy5jb25maWcuYWNjZXB0cyhibG9jaywgYywgc291cmNlKSk7CiAgICB9LAoKICAgIGZvcmJpZGRlblRhcmdldHMoZWwsIHNvdXJjZSkgewogICAgICByZXR1cm4gdGhpcy5kcmFrZS5jb250YWluZXJzLmZpbHRlcihjID0+ICF0aGlzLmFsbG93ZWRUYXJnZXRzKGVsLCBzb3VyY2UpLmluY2x1ZGVzKGMpKTsKICAgIH0sCiAgfSwKCiAgdXBkYXRlZCgpIHsKICAgIHRoaXMuZHJha2UuY29udGFpbmVycyA9IHRoaXMuJHJlZnMubGlzdDsKICAgIHRoaXMuZHJha2UubWlycm9yQ29udGFpbmVyID0gdGhpcy4kZWw7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY29uZmlnLmFjY2VwdHMgPSB0aGlzLmNvbmZpZy5hY2NlcHRzIHx8IHRoaXMuYWNjZXB0czsKICAgIHRoaXMuY29uZmlnLm1pcnJvckNvbnRhaW5lciA9IHRoaXMuJGVsOwogICAgdGhpcy5kcmFrZSA9IGRyYWd1bGEodGhpcy4kcmVmcy5saXN0LCB0aGlzLmNvbmZpZykKICAgIC5vbignZHJhZycsIChlbCwgc291cmNlKSA9PiB7CiAgICAgIHRoaXMuJGVtaXQoJ2RyYWcnLCBlbCwgc291cmNlKTsKICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnaXMtbW92aW5nJyk7CiAgICAgIHRoaXMuYWxsb3dlZFRhcmdldHMoZWwsIHNvdXJjZSkuZm9yRWFjaChjID0+IGMuY2xhc3NMaXN0LmFkZCgnYWxsb3dlZCcpKTsKICAgICAgdGhpcy5mb3JiaWRkZW5UYXJnZXRzKGVsLCBzb3VyY2UpLmZvckVhY2goYyA9PiBjLmNsYXNzTGlzdC5hZGQoJ2ZvcmJpZGRlbicpKTsKICAgIH0pCiAgICAub24oJ2RyYWdlbmQnLCAoZWwpID0+IHsKICAgICAgdGhpcy4kZW1pdCgnZHJhZ2VuZCcsIGVsKTsKICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbW92aW5nJyk7CiAgICAgIHRoaXMuZHJha2UuY29udGFpbmVycy5mb3JFYWNoKGMgPT4gYy5jbGFzc0xpc3QucmVtb3ZlKCdhbGxvd2VkJywgJ2ZvcmJpZGRlbicpKTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2lzLW1vdmVkJyk7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbW92ZWQnKTsKICAgICAgICB9LCA2MDApOwogICAgICB9LCAxMDApOwogICAgfSkKICAgIC5vbignZHJvcCcsIChibG9jaywgbGlzdCwgc291cmNlLCBzaWJsaW5nKSA9PiB7CiAgICAgIHRoaXMuJGVtaXQoJ2Ryb3AnLCBibG9jaywgbGlzdCwgc291cmNlLCBzaWJsaW5nKTsKICAgICAgbGV0IGluZGV4ID0gMDsKICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbGlzdC5jaGlsZHJlbi5sZW5ndGg7IGluZGV4ICs9IDEpIHsKICAgICAgICBpZiAobGlzdC5jaGlsZHJlbltpbmRleF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1tb3ZpbmcnKSkgYnJlYWs7CiAgICAgIH0KCiAgICAgIGxldCBuZXdTdGF0ZSA9IGxpc3QuZGF0YXNldC5zdGF0dXM7CgogICAgICBpZiAodGhpcy5tYWNoaW5lKSB7CiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHRoaXMuZmluZFRyYW5zaXRpb24obGlzdCwgc291cmNlKTsKICAgICAgICBpZiAoIXRyYW5zaXRpb24pIHJldHVybjsKICAgICAgICBuZXdTdGF0ZSA9IHRoaXMubWFjaGluZS50cmFuc2l0aW9uKHNvdXJjZS5kYXRhc2V0LnN0YXR1cywgdHJhbnNpdGlvbikudmFsdWU7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZS1ibG9jaycsIGJsb2NrLmRhdGFzZXQuYmxvY2tJZCwgbmV3U3RhdGUsIGluZGV4KTsKICAgIH0pCiAgICAub24oJ2NhbmNlbCcsIChlbCwgY29udGFpbmVyLCBzb3VyY2UpID0+IHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgZWwsIGNvbnRhaW5lciwgc291cmNlKTsKICAgIH0pCiAgICAub24oJ3JlbW92ZScsIChlbCwgY29udGFpbmVyLCBzb3VyY2UpID0+IHsKICAgICAgdGhpcy4kZW1pdCgncmVtb3ZlJywgZWwsIGNvbnRhaW5lciwgc291cmNlKTsKICAgIH0pCiAgICAub24oJ3NoYWRvdycsIChlbCwgY29udGFpbmVyLCBzb3VyY2UpID0+IHsKICAgICAgdGhpcy4kZW1pdCgnc2hhZG93JywgZWwsIGNvbnRhaW5lciwgc291cmNlKTsKICAgIH0pCiAgICAub24oJ292ZXInLCAoZWwsIGNvbnRhaW5lciwgc291cmNlKSA9PiB7CiAgICAgIHRoaXMuJGVtaXQoJ292ZXInLCBlbCwgY29udGFpbmVyLCBzb3VyY2UpOwogICAgfSkKICAgIC5vbignb3V0JywgKGVsLCBjb250YWluZXIsIHNvdXJjZSkgPT4gewogICAgICB0aGlzLiRlbWl0KCdvdXQnLCBlbCwgY29udGFpbmVyLCBzb3VyY2UpOwogICAgfSkKICAgIC5vbignY2xvbmVkJywgKGNsb25lLCBvcmlnaW5hbCwgdHlwZSkgPT4gewogICAgICB0aGlzLiRlbWl0KCdjbG9uZWQnLCBjbG9uZSwgb3JpZ2luYWwsIHR5cGUpOwogICAgfSk7CiAgICB0aGlzLiRlbWl0KCdpbml0JywgdGhpcy5kcmFrZSk7CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGlmICghdGhpcy5zdGF0ZU1hY2hpbmVDb25maWcpIHJldHVybjsKICAgIHRoaXMubWFjaGluZSA9IE1hY2hpbmUodGhpcy5zdGF0ZU1hY2hpbmVDb25maWcpOwogIH0sCn07Cg=="},{"version":3,"sources":["Kanban.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Kanban.vue","sourceRoot":"node_modules/vue-kanban/src/components","sourcesContent":["<template>\n  <div class=\"drag-container\">\n    <ul class=\"drag-list\">\n      <li v-for=\"stage in stages\" class=\"drag-column\" :class=\"{['drag-column-' + stage]: true}\" :key=\"stage\">\n        <span class=\"drag-column-header\">\n          <slot :name=\"stage\">\n            <h2>{{ stage }}</h2>\n          </slot>\n        </span>\n        <div class=\"drag-options\"></div>\n        <ul class=\"drag-inner-list\" ref=\"list\" :data-status=\"stage\">\n          <li class=\"drag-item\" v-for=\"block in getBlocks(stage)\" :data-block-id=\"block[idProp]\" :key=\"block[idProp]\">\n            <slot :name=\"block[idProp]\">\n              <strong>{{ block[statusProp] }}</strong>\n              <div>{{ block[idProp] }}</div>\n            </slot>\n          </li>\n        </ul>\n        <div class=\"drag-column-footer\">\n            <slot :name=\"`footer-${stage}`\"></slot>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import dragula from 'dragula';\n  import { Machine } from 'xstate';\n\n  export default {\n    name: 'KanbanBoard',\n\n    props: {\n      stages: {\n        type: Array,\n        required: true,\n      },\n      blocks: {\n        type: Array,\n        required: true,\n      },\n      config: {\n        type: Object,\n        default: () => ({}),\n      },\n      stateMachineConfig: {\n        type: Object,\n        default: null,\n      },\n      idProp: {\n        type: String,\n        default: 'id',\n      },\n      statusProp: {\n        type: String,\n        default: 'status',\n      },\n    },\n\n    data() {\n      return {\n        machine: null,\n      };\n    },\n\n    computed: {\n      localBlocks() {\n        return this.blocks;\n      },\n    },\n\n    methods: {\n      getBlocks(status) {\n        return this.localBlocks.filter(block => block[this.statusProp] === status);\n      },\n\n      findPossibleTransitions(sourceState) {\n        return this.machine.config.states[sourceState].on || {};\n      },\n\n      findTransition(target, source) {\n        const targetState = target.dataset.status;\n        const sourceState = source.dataset.status;\n        const possibleTransitions = this.findPossibleTransitions(sourceState);\n        return Object.keys(possibleTransitions)\n          .find(transition => possibleTransitions[transition] === targetState);\n      },\n\n      accepts(block, target, source) {\n        if (!this.machine) return true;\n        const targetState = target.dataset.status;\n        const sourceState = source.dataset.status;\n        return Object.values(this.findPossibleTransitions(sourceState)).includes(targetState);\n      },\n\n      allowedTargets(el, source) {\n        const block = this.localBlocks.find(b => b[this.idProp] === el.dataset.blockId);\n        return this.drake.containers.filter(c => this.config.accepts(block, c, source));\n      },\n\n      forbiddenTargets(el, source) {\n        return this.drake.containers.filter(c => !this.allowedTargets(el, source).includes(c));\n      },\n    },\n\n    updated() {\n      this.drake.containers = this.$refs.list;\n      this.drake.mirrorContainer = this.$el;\n    },\n\n    mounted() {\n      this.config.accepts = this.config.accepts || this.accepts;\n      this.config.mirrorContainer = this.$el;\n      this.drake = dragula(this.$refs.list, this.config)\n      .on('drag', (el, source) => {\n        this.$emit('drag', el, source);\n        el.classList.add('is-moving');\n        this.allowedTargets(el, source).forEach(c => c.classList.add('allowed'));\n        this.forbiddenTargets(el, source).forEach(c => c.classList.add('forbidden'));\n      })\n      .on('dragend', (el) => {\n        this.$emit('dragend', el);\n        el.classList.remove('is-moving');\n        this.drake.containers.forEach(c => c.classList.remove('allowed', 'forbidden'));\n        window.setTimeout(() => {\n          el.classList.add('is-moved');\n          window.setTimeout(() => {\n            el.classList.remove('is-moved');\n          }, 600);\n        }, 100);\n      })\n      .on('drop', (block, list, source, sibling) => {\n        this.$emit('drop', block, list, source, sibling);\n        let index = 0;\n        for (index = 0; index < list.children.length; index += 1) {\n          if (list.children[index].classList.contains('is-moving')) break;\n        }\n\n        let newState = list.dataset.status;\n\n        if (this.machine) {\n          const transition = this.findTransition(list, source);\n          if (!transition) return;\n          newState = this.machine.transition(source.dataset.status, transition).value;\n        }\n\n        this.$emit('update-block', block.dataset.blockId, newState, index);\n      })\n      .on('cancel', (el, container, source) => {\n        this.$emit('cancel', el, container, source);\n      })\n      .on('remove', (el, container, source) => {\n        this.$emit('remove', el, container, source);\n      })\n      .on('shadow', (el, container, source) => {\n        this.$emit('shadow', el, container, source);\n      })\n      .on('over', (el, container, source) => {\n        this.$emit('over', el, container, source);\n      })\n      .on('out', (el, container, source) => {\n        this.$emit('out', el, container, source);\n      })\n      .on('cloned', (clone, original, type) => {\n        this.$emit('cloned', clone, original, type);\n      });\n      this.$emit('init', this.drake);\n    },\n\n    created() {\n      if (!this.stateMachineConfig) return;\n      this.machine = Machine(this.stateMachineConfig);\n    },\n  };\n</script>\n"]}]}