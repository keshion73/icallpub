{"remainingRequest":"C:\\workspace\\icallpub\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\workspace\\icallpub\\src\\views\\Ecommerce\\Products\\Widgets\\Dropzone.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\workspace\\icallpub\\src\\views\\Ecommerce\\Products\\Widgets\\Dropzone.vue","mtime":1640165807000},{"path":"C:\\workspace\\icallpub\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\icallpub\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\workspace\\icallpub\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\icallpub\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZHJvcHpvbmUiLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KSwKICAgIH0sCiAgICB2YWx1ZTogW1N0cmluZywgT2JqZWN0LCBBcnJheV0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiaHR0cDovLyIsCiAgICB9LAogICAgbXVsdGlwbGU6IEJvb2xlYW4sCiAgICBwcmV2aWV3Q2xhc3NlczogW1N0cmluZywgT2JqZWN0LCBBcnJheV0sCiAgfSwKICBtb2RlbDogewogICAgcHJvcDogInZhbHVlIiwKICAgIGV2ZW50OiAiY2hhbmdlIiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50RmlsZTogbnVsbCwKICAgICAgZmlsZXM6IFtdLAogICAgICBzaG93TGlzdDogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaW5pdERyb3B6b25lKCkgewogICAgICBsZXQgRHJvcHpvbmUgPSBhd2FpdCBpbXBvcnQoImRyb3B6b25lIik7CiAgICAgIERyb3B6b25lID0gRHJvcHpvbmUuZGVmYXVsdCB8fCBEcm9wem9uZTsKICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7CiAgICAgIGxldCBwcmV2aWV3ID0gdGhpcy5tdWx0aXBsZQogICAgICAgID8gdGhpcy4kcmVmcy5wcmV2aWV3TXVsdGlwbGUKICAgICAgICA6IHRoaXMuJHJlZnMucHJldmlld1NpbmdsZTsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBsZXQgZmluYWxPcHRpb25zID0gewogICAgICAgIC4uLnRoaXMub3B0aW9ucywKICAgICAgICB1cmw6IHRoaXMudXJsLAogICAgICAgIHRodW1ibmFpbFdpZHRoOiBudWxsLAogICAgICAgIHRodW1ibmFpbEhlaWdodDogbnVsbCwKICAgICAgICBwcmV2aWV3c0NvbnRhaW5lcjogcHJldmlldywKICAgICAgICBwcmV2aWV3VGVtcGxhdGU6IHByZXZpZXcuaW5uZXJIVE1MLAogICAgICAgIG1heEZpbGVzOiAhdGhpcy5tdWx0aXBsZSA/IDEgOiBudWxsLAogICAgICAgIGFjY2VwdGVkRmlsZXM6ICF0aGlzLm11bHRpcGxlID8gImltYWdlLyoiIDogbnVsbCwKICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLm9uKCJhZGRlZGZpbGUiLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICBpZiAoIXNlbGYubXVsdGlwbGUgJiYgc2VsZi5jdXJyZW50RmlsZSkgewogICAgICAgICAgICAgIC8vIHRoaXMucmVtb3ZlRmlsZSh0aGlzLmN1cnJlbnRGaWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLmN1cnJlbnRGaWxlID0gZmlsZTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgIH07CiAgICAgIHRoaXMuZHJvcHpvbmUgPSBuZXcgRHJvcHpvbmUodGhpcy4kZWwsIGZpbmFsT3B0aW9ucyk7CiAgICAgIHByZXZpZXcuaW5uZXJIVE1MID0gIiI7CiAgICAgIGxldCBldnRMaXN0ID0gWwogICAgICAgICJkcm9wIiwKICAgICAgICAiZHJhZ3N0YXJ0IiwKICAgICAgICAiZHJhZ2VuZCIsCiAgICAgICAgImRyYWdlbnRlciIsCiAgICAgICAgImRyYWdvdmVyIiwKICAgICAgICAiYWRkZWRmaWxlIiwKICAgICAgICAicmVtb3ZlZGZpbGUiLAogICAgICAgICJ0aHVtYm5haWwiLAogICAgICAgICJlcnJvciIsCiAgICAgICAgInByb2Nlc3NpbmciLAogICAgICAgICJ1cGxvYWRwcm9ncmVzcyIsCiAgICAgICAgInNlbmRpbmciLAogICAgICAgICJzdWNjZXNzIiwKICAgICAgICAiY29tcGxldGUiLAogICAgICAgICJjYW5jZWxlZCIsCiAgICAgICAgIm1heGZpbGVzcmVhY2hlZCIsCiAgICAgICAgIm1heGZpbGVzZXhjZWVkZWQiLAogICAgICAgICJwcm9jZXNzaW5nbXVsdGlwbGUiLAogICAgICAgICJzZW5kaW5nbXVsdGlwbGUiLAogICAgICAgICJzdWNjZXNzbXVsdGlwbGUiLAogICAgICAgICJjb21wbGV0ZW11bHRpcGxlIiwKICAgICAgICAiY2FuY2VsZWRtdWx0aXBsZSIsCiAgICAgICAgInRvdGFsdXBsb2FkcHJvZ3Jlc3MiLAogICAgICAgICJyZXNldCIsCiAgICAgICAgInF1ZXVlY29tcGxldGUiLAogICAgICBdOwogICAgICBldnRMaXN0LmZvckVhY2goKGV2dCkgPT4gewogICAgICAgIHRoaXMuZHJvcHpvbmUub24oZXZ0LCAoZGF0YSkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdChldnQsIGRhdGEpOwogICAgICAgICAgaWYgKGV2dCA9PT0gImFkZGVkZmlsZSIpIHsKICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKGRhdGEpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJjaGFuZ2UiLCB0aGlzLmZpbGVzKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0ID09PSAicmVtb3ZlZGZpbGUiKSB7CiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuZmlsZXMuZmluZEluZGV4KAogICAgICAgICAgICAgIChmKSA9PiBmLnVwbG9hZC51dWlkID09PSBkYXRhLnVwbG9hZC51dWlkCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgICAgICB0aGlzLmZpbGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlIiwgdGhpcy5maWxlcyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXREcm9wem9uZSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["Dropzone.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dropzone.vue","sourceRoot":"src/views/Ecommerce/Products/Widgets","sourcesContent":["<template>\n  <div\n    class=\"dropzone mb-3 mt-3 dz-clickable\"\n    :class=\"[multiple ? 'dropzone-multiple' : 'dropzone-single']\"\n  >\n    <div class=\"fallback\">\n      <div class=\"custom-file\">\n        <input\n          type=\"file\"\n          class=\"custom-file-input\"\n          id=\"projectCoverUploads\"\n          :multiple=\"multiple\"\n        />\n        <label class=\"custom-file-label\" for=\"projectCoverUploads\"\n          >Choose file</label\n        >\n      </div>\n    </div>\n    <div\n      class=\"dz-preview dz-preview-single\"\n      v-if=\"!multiple\"\n      :class=\"previewClasses\"\n      ref=\"previewSingle\"\n    >\n      <div class=\"dz-preview-cover\">\n        <img class=\"dz-preview-img\" data-dz-thumbnail />\n      </div>\n    </div>\n    <ul\n      v-else\n      class=\"\n        dz-preview dz-preview-multiple\n        list-group list-group-lg list-group-flush\n      \"\n      :class=\"previewClasses\"\n      ref=\"previewMultiple\"\n    >\n      <li class=\"list-group-item px-0\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-auto\">\n            <div class=\"avatar\">\n              <img class=\"avatar-img rounded\" data-dz-thumbnail />\n            </div>\n          </div>\n          <div class=\"col ml--3\">\n            <h4 class=\"mb-1\" data-dz-name>...</h4>\n            <p class=\"small text-muted mb-0\" data-dz-size>...</p>\n          </div>\n          <div class=\"col-auto\">\n            <button data-dz-remove=\"true\" class=\"btn btn-danger btn-sm\">\n              <i class=\"fas fa-trash\"></i>\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"dropzone\",\n  props: {\n    options: {\n      type: Object,\n      default: () => ({}),\n    },\n    value: [String, Object, Array],\n    url: {\n      type: String,\n      default: \"http://\",\n    },\n    multiple: Boolean,\n    previewClasses: [String, Object, Array],\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\",\n  },\n  data() {\n    return {\n      currentFile: null,\n      files: [],\n      showList: false,\n    };\n  },\n  methods: {\n    async initDropzone() {\n      let Dropzone = await import(\"dropzone\");\n      Dropzone = Dropzone.default || Dropzone;\n      Dropzone.autoDiscover = false;\n      let preview = this.multiple\n        ? this.$refs.previewMultiple\n        : this.$refs.previewSingle;\n      let self = this;\n      let finalOptions = {\n        ...this.options,\n        url: this.url,\n        thumbnailWidth: null,\n        thumbnailHeight: null,\n        previewsContainer: preview,\n        previewTemplate: preview.innerHTML,\n        maxFiles: !this.multiple ? 1 : null,\n        acceptedFiles: !this.multiple ? \"image/*\" : null,\n        init: function () {\n          this.on(\"addedfile\", function (file) {\n            if (!self.multiple && self.currentFile) {\n              // this.removeFile(this.currentFile);\n            }\n            self.currentFile = file;\n          });\n        },\n      };\n      this.dropzone = new Dropzone(this.$el, finalOptions);\n      preview.innerHTML = \"\";\n      let evtList = [\n        \"drop\",\n        \"dragstart\",\n        \"dragend\",\n        \"dragenter\",\n        \"dragover\",\n        \"addedfile\",\n        \"removedfile\",\n        \"thumbnail\",\n        \"error\",\n        \"processing\",\n        \"uploadprogress\",\n        \"sending\",\n        \"success\",\n        \"complete\",\n        \"canceled\",\n        \"maxfilesreached\",\n        \"maxfilesexceeded\",\n        \"processingmultiple\",\n        \"sendingmultiple\",\n        \"successmultiple\",\n        \"completemultiple\",\n        \"canceledmultiple\",\n        \"totaluploadprogress\",\n        \"reset\",\n        \"queuecomplete\",\n      ];\n      evtList.forEach((evt) => {\n        this.dropzone.on(evt, (data) => {\n          this.$emit(evt, data);\n          if (evt === \"addedfile\") {\n            this.files.push(data);\n            this.$emit(\"change\", this.files);\n          } else if (evt === \"removedfile\") {\n            let index = this.files.findIndex(\n              (f) => f.upload.uuid === data.upload.uuid\n            );\n            if (index !== -1) {\n              this.files.splice(index, 1);\n            }\n            this.$emit(\"change\", this.files);\n          }\n        });\n      });\n    },\n  },\n  async mounted() {\n    this.initDropzone();\n  },\n};\n</script>\n<style></style>\n"]}]}