{"remainingRequest":"C:\\workspace\\icallpub\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\icallpub\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\workspace\\icallpub\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\workspace\\icallpub\\src\\views\\Ecommerce\\Products\\Widgets\\Dropzone.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\workspace\\icallpub\\src\\views\\Ecommerce\\Products\\Widgets\\Dropzone.vue","mtime":1640165807000},{"path":"C:\\workspace\\icallpub\\babel.config.js","mtime":1640165807000},{"path":"C:\\workspace\\icallpub\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\icallpub\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\workspace\\icallpub\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\workspace\\icallpub\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZHJvcHpvbmUiLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQogICAgfSwKICAgIHZhbHVlOiBbU3RyaW5nLCBPYmplY3QsIEFycmF5XSwKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJodHRwOi8vIgogICAgfSwKICAgIG11bHRpcGxlOiBCb29sZWFuLAogICAgcHJldmlld0NsYXNzZXM6IFtTdHJpbmcsIE9iamVjdCwgQXJyYXldCiAgfSwKICBtb2RlbDogewogICAgcHJvcDogInZhbHVlIiwKICAgIGV2ZW50OiAiY2hhbmdlIgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRGaWxlOiBudWxsLAogICAgICBmaWxlczogW10sCiAgICAgIHNob3dMaXN0OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGluaXREcm9wem9uZSgpIHsKICAgICAgbGV0IERyb3B6b25lID0gYXdhaXQgaW1wb3J0KCJkcm9wem9uZSIpOwogICAgICBEcm9wem9uZSA9IERyb3B6b25lLmRlZmF1bHQgfHwgRHJvcHpvbmU7CiAgICAgIERyb3B6b25lLmF1dG9EaXNjb3ZlciA9IGZhbHNlOwogICAgICBsZXQgcHJldmlldyA9IHRoaXMubXVsdGlwbGUgPyB0aGlzLiRyZWZzLnByZXZpZXdNdWx0aXBsZSA6IHRoaXMuJHJlZnMucHJldmlld1NpbmdsZTsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBsZXQgZmluYWxPcHRpb25zID0gewogICAgICAgIC4uLnRoaXMub3B0aW9ucywKICAgICAgICB1cmw6IHRoaXMudXJsLAogICAgICAgIHRodW1ibmFpbFdpZHRoOiBudWxsLAogICAgICAgIHRodW1ibmFpbEhlaWdodDogbnVsbCwKICAgICAgICBwcmV2aWV3c0NvbnRhaW5lcjogcHJldmlldywKICAgICAgICBwcmV2aWV3VGVtcGxhdGU6IHByZXZpZXcuaW5uZXJIVE1MLAogICAgICAgIG1heEZpbGVzOiAhdGhpcy5tdWx0aXBsZSA/IDEgOiBudWxsLAogICAgICAgIGFjY2VwdGVkRmlsZXM6ICF0aGlzLm11bHRpcGxlID8gImltYWdlLyoiIDogbnVsbCwKICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLm9uKCJhZGRlZGZpbGUiLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICBpZiAoIXNlbGYubXVsdGlwbGUgJiYgc2VsZi5jdXJyZW50RmlsZSkgewogICAgICAgICAgICAgIC8vIHRoaXMucmVtb3ZlRmlsZSh0aGlzLmN1cnJlbnRGaWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLmN1cnJlbnRGaWxlID0gZmlsZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5kcm9wem9uZSA9IG5ldyBEcm9wem9uZSh0aGlzLiRlbCwgZmluYWxPcHRpb25zKTsKICAgICAgcHJldmlldy5pbm5lckhUTUwgPSAiIjsKICAgICAgbGV0IGV2dExpc3QgPSBbImRyb3AiLCAiZHJhZ3N0YXJ0IiwgImRyYWdlbmQiLCAiZHJhZ2VudGVyIiwgImRyYWdvdmVyIiwgImFkZGVkZmlsZSIsICJyZW1vdmVkZmlsZSIsICJ0aHVtYm5haWwiLCAiZXJyb3IiLCAicHJvY2Vzc2luZyIsICJ1cGxvYWRwcm9ncmVzcyIsICJzZW5kaW5nIiwgInN1Y2Nlc3MiLCAiY29tcGxldGUiLCAiY2FuY2VsZWQiLCAibWF4ZmlsZXNyZWFjaGVkIiwgIm1heGZpbGVzZXhjZWVkZWQiLCAicHJvY2Vzc2luZ211bHRpcGxlIiwgInNlbmRpbmdtdWx0aXBsZSIsICJzdWNjZXNzbXVsdGlwbGUiLCAiY29tcGxldGVtdWx0aXBsZSIsICJjYW5jZWxlZG11bHRpcGxlIiwgInRvdGFsdXBsb2FkcHJvZ3Jlc3MiLCAicmVzZXQiLCAicXVldWVjb21wbGV0ZSJdOwogICAgICBldnRMaXN0LmZvckVhY2goZXZ0ID0+IHsKICAgICAgICB0aGlzLmRyb3B6b25lLm9uKGV2dCwgZGF0YSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KGV2dCwgZGF0YSk7CiAgICAgICAgICBpZiAoZXZ0ID09PSAiYWRkZWRmaWxlIikgewogICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2goZGF0YSk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImNoYW5nZSIsIHRoaXMuZmlsZXMpOwogICAgICAgICAgfSBlbHNlIGlmIChldnQgPT09ICJyZW1vdmVkZmlsZSIpIHsKICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5maWxlcy5maW5kSW5kZXgoZiA9PiBmLnVwbG9hZC51dWlkID09PSBkYXRhLnVwbG9hZC51dWlkKTsKICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgICAgIHRoaXMuZmlsZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRlbWl0KCJjaGFuZ2UiLCB0aGlzLmZpbGVzKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RHJvcHpvbmUoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;IACAC;MACAH;MACAC;IACA;IACAG;IACAC;EACA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MACAC;MACAA;MACA,8BACA,6BACA;MACA;MACA;QACA;QACAX;QACAY;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACA;YACA;cACA;YAAA;YAEAC;UACA;QACA;MACA;MACA;MACAC;MACA,eACA,QACA,aACA,WACA,aACA,YACA,aACA,eACA,aACA,SACA,cACA,kBACA,WACA,WACA,YACA,YACA,mBACA,oBACA,sBACA,mBACA,mBACA,oBACA,oBACA,uBACA,SACA,gBACA;MACAC;QACA;UACA;UACA;YACA;YACA;UACA;YACA,iCACAC,wCACA;YACA;cACA;YACA;YACA;UACA;QACA;MACA;IACA;EACA;EACA;IACA;EACA;AACA","names":["name","props","options","type","default","value","url","multiple","previewClasses","model","prop","event","data","currentFile","files","showList","methods","Dropzone","thumbnailWidth","thumbnailHeight","previewsContainer","previewTemplate","maxFiles","acceptedFiles","init","self","preview","evtList","f"],"sourceRoot":"src/views/Ecommerce/Products/Widgets","sources":["Dropzone.vue"],"sourcesContent":["<template>\n  <div\n    class=\"dropzone mb-3 mt-3 dz-clickable\"\n    :class=\"[multiple ? 'dropzone-multiple' : 'dropzone-single']\"\n  >\n    <div class=\"fallback\">\n      <div class=\"custom-file\">\n        <input\n          type=\"file\"\n          class=\"custom-file-input\"\n          id=\"projectCoverUploads\"\n          :multiple=\"multiple\"\n        />\n        <label class=\"custom-file-label\" for=\"projectCoverUploads\"\n          >Choose file</label\n        >\n      </div>\n    </div>\n    <div\n      class=\"dz-preview dz-preview-single\"\n      v-if=\"!multiple\"\n      :class=\"previewClasses\"\n      ref=\"previewSingle\"\n    >\n      <div class=\"dz-preview-cover\">\n        <img class=\"dz-preview-img\" data-dz-thumbnail />\n      </div>\n    </div>\n    <ul\n      v-else\n      class=\"\n        dz-preview dz-preview-multiple\n        list-group list-group-lg list-group-flush\n      \"\n      :class=\"previewClasses\"\n      ref=\"previewMultiple\"\n    >\n      <li class=\"list-group-item px-0\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-auto\">\n            <div class=\"avatar\">\n              <img class=\"avatar-img rounded\" data-dz-thumbnail />\n            </div>\n          </div>\n          <div class=\"col ml--3\">\n            <h4 class=\"mb-1\" data-dz-name>...</h4>\n            <p class=\"small text-muted mb-0\" data-dz-size>...</p>\n          </div>\n          <div class=\"col-auto\">\n            <button data-dz-remove=\"true\" class=\"btn btn-danger btn-sm\">\n              <i class=\"fas fa-trash\"></i>\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"dropzone\",\n  props: {\n    options: {\n      type: Object,\n      default: () => ({}),\n    },\n    value: [String, Object, Array],\n    url: {\n      type: String,\n      default: \"http://\",\n    },\n    multiple: Boolean,\n    previewClasses: [String, Object, Array],\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\",\n  },\n  data() {\n    return {\n      currentFile: null,\n      files: [],\n      showList: false,\n    };\n  },\n  methods: {\n    async initDropzone() {\n      let Dropzone = await import(\"dropzone\");\n      Dropzone = Dropzone.default || Dropzone;\n      Dropzone.autoDiscover = false;\n      let preview = this.multiple\n        ? this.$refs.previewMultiple\n        : this.$refs.previewSingle;\n      let self = this;\n      let finalOptions = {\n        ...this.options,\n        url: this.url,\n        thumbnailWidth: null,\n        thumbnailHeight: null,\n        previewsContainer: preview,\n        previewTemplate: preview.innerHTML,\n        maxFiles: !this.multiple ? 1 : null,\n        acceptedFiles: !this.multiple ? \"image/*\" : null,\n        init: function () {\n          this.on(\"addedfile\", function (file) {\n            if (!self.multiple && self.currentFile) {\n              // this.removeFile(this.currentFile);\n            }\n            self.currentFile = file;\n          });\n        },\n      };\n      this.dropzone = new Dropzone(this.$el, finalOptions);\n      preview.innerHTML = \"\";\n      let evtList = [\n        \"drop\",\n        \"dragstart\",\n        \"dragend\",\n        \"dragenter\",\n        \"dragover\",\n        \"addedfile\",\n        \"removedfile\",\n        \"thumbnail\",\n        \"error\",\n        \"processing\",\n        \"uploadprogress\",\n        \"sending\",\n        \"success\",\n        \"complete\",\n        \"canceled\",\n        \"maxfilesreached\",\n        \"maxfilesexceeded\",\n        \"processingmultiple\",\n        \"sendingmultiple\",\n        \"successmultiple\",\n        \"completemultiple\",\n        \"canceledmultiple\",\n        \"totaluploadprogress\",\n        \"reset\",\n        \"queuecomplete\",\n      ];\n      evtList.forEach((evt) => {\n        this.dropzone.on(evt, (data) => {\n          this.$emit(evt, data);\n          if (evt === \"addedfile\") {\n            this.files.push(data);\n            this.$emit(\"change\", this.files);\n          } else if (evt === \"removedfile\") {\n            let index = this.files.findIndex(\n              (f) => f.upload.uuid === data.upload.uuid\n            );\n            if (index !== -1) {\n              this.files.splice(index, 1);\n            }\n            this.$emit(\"change\", this.files);\n          }\n        });\n      });\n    },\n  },\n  async mounted() {\n    this.initDropzone();\n  },\n};\n</script>\n<style></style>\n"]}]}