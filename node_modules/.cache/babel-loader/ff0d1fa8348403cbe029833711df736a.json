{"remainingRequest":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\src\\views\\Ecommerce\\Products\\Widgets\\HtmlEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\src\\views\\Ecommerce\\Products\\Widgets\\HtmlEditor.vue","mtime":1646925298000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\babel.config.js","mtime":1640165807000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Documents\\카카오톡 받은 파일\\Archive\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5zbm93LmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaHRtbC1lZGl0b3IiLAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICI8cD5Mb25nIHNsZWV2ZXMgYmxhY2sgZGVuaW0gamFja2V0IHdpdGggYSB0d2lzdGVkIGRlc2lnbi4gQ29udHJhc3Qgc3RpdGNoaW5nLiBCdXR0b24gdXAgY2xvc3VyZS4gV2hpdGUgYXJyb3cgcHJpbnRzIG9uIHRoZSBiYWNrLjwvcD4iCiAgICB9LAogICAgbmFtZTogU3RyaW5nCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdG9yOiBudWxsLAogICAgICBjb250ZW50OiBudWxsLAogICAgICBsYXN0SHRtbFZhbHVlOiAiIiwKICAgICAgZWRpdG9ySWQ6IG51bGwsCiAgICAgIHRvb2xiYXJJZDogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRpYWxpemUoUXVpbGwpIHsKICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgUXVpbGwoYCMke3RoaXMuZWRpdG9ySWR9YCwgewogICAgICAgIHRoZW1lOiAic25vdyIsCiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgdG9vbGJhcjogYCMke3RoaXMudG9vbGJhcklkfWAKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5lZGl0b3IucGFzdGVIVE1MKHRoaXMudmFsdWUpOwogICAgICB9CiAgICAgIGxldCBlZGl0b3JSZWYgPSB0aGlzLiRyZWZzLmVkaXRvcjsKICAgICAgbGV0IG5vZGUgPSBlZGl0b3JSZWYuY2hpbGRyZW5bMF07CiAgICAgIHRoaXMuZWRpdG9yLm9uKCJ0ZXh0LWNoYW5nZSIsICgpID0+IHsKICAgICAgICBsZXQgaHRtbCA9IG5vZGUuaW5uZXJIVE1MOwogICAgICAgIGlmIChodG1sID09PSAiPHA+PGJyPjwvcD4iKSB7CiAgICAgICAgICBodG1sID0gIiI7CiAgICAgICAgfQogICAgICAgIHRoaXMuY29udGVudCA9IGh0bWw7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLmNvbnRlbnQpOwogICAgICB9KTsKICAgIH0sCiAgICBwYXN0ZUhUTUwoKSB7CiAgICAgIGlmICghdGhpcy5lZGl0b3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5lZGl0b3IucGFzdGVIVE1MKHRoaXMudmFsdWUpOwogICAgfSwKICAgIHJhbmRvbVN0cmluZygpIHsKICAgICAgbGV0IHRleHQgPSAiIjsKICAgICAgbGV0IHBvc3NpYmxlID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7CiAgICAgIHJldHVybiB0ZXh0OwogICAgfQogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGxldCBRdWlsbCA9IGF3YWl0IGltcG9ydCgicXVpbGwiKTsKICAgIFF1aWxsID0gUXVpbGwuZGVmYXVsdCB8fCBRdWlsbDsKICAgIHRoaXMuZWRpdG9ySWQgPSB0aGlzLnJhbmRvbVN0cmluZygpOwogICAgdGhpcy50b29sYmFySWQgPSB0aGlzLnJhbmRvbVN0cmluZygpOwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLmluaXRpYWxpemUoUXVpbGwpOwogICAgfSk7CiAgfSwKICB3YXRjaDogewogICAgdmFsdWUobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgIT09IHRoaXMuY29udGVudCkgewogICAgICAgIHRoaXMucGFzdGVIVE1MKG5ld1ZhbCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;EACAA;EACAC;IACAC;MACAC;MACAC,SACA;IACA;IACAJ;EACA;EACAK;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;UACAC;QACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA,4BACAC;MACA;IACA;EACA;EACA;IACA;IACAC;IACA;IACA;IACA;MACA;IACA;EACA;EACAC;IACAnB;MACA;QACA;MACA;IACA;EACA;AACA","names":["name","props","value","type","default","data","editor","content","lastHtmlValue","editorId","toolbarId","methods","initialize","theme","modules","toolbar","html","pasteHTML","randomString","text","Quill","watch"],"sourceRoot":"src/views/Ecommerce/Products/Widgets","sources":["HtmlEditor.vue"],"sourcesContent":["<template>\n  <div\n    class=\"quill mt-3\"\n    :class=\"this.$route.name == 'NewProduct' ? 'h-100' : ' '\"\n  >\n    <div :id=\"toolbarId\">\n      <div class=\"ql-formats\">\n        <button class=\"ql-bold\"></button>\n        <button class=\"ql-italic\"></button>\n        <button class=\"ql-underline\"></button>\n        <button class=\"ql-link\"></button>\n        <button class=\"ql-blockquote\"></button>\n        <button class=\"ql-code\"></button>\n        <button class=\"ql-image\"></button>\n        <button type=\"button\" class=\"ql-list\" value=\"ordered\"></button>\n        <button type=\"button\" class=\"ql-list\" value=\"bullet\"></button>\n      </div>\n    </div>\n    <div :id=\"editorId\" :name=\"name\" class=\"\" ref=\"editor\"></div>\n  </div>\n</template>\n<script>\nimport \"quill/dist/quill.snow.css\";\nexport default {\n  name: \"html-editor\",\n  props: {\n    value: {\n      type: String,\n      default:\n        \"<p>Long sleeves black denim jacket with a twisted design. Contrast stitching. Button up closure. White arrow prints on the back.</p>\",\n    },\n    name: String,\n  },\n  data() {\n    return {\n      editor: null,\n      content: null,\n      lastHtmlValue: \"\",\n      editorId: null,\n      toolbarId: null,\n    };\n  },\n  methods: {\n    initialize(Quill) {\n      this.editor = new Quill(`#${this.editorId}`, {\n        theme: \"snow\",\n        modules: {\n          toolbar: `#${this.toolbarId}`,\n        },\n      });\n      if (this.value.length > 0) {\n        this.editor.pasteHTML(this.value);\n      }\n      let editorRef = this.$refs.editor;\n      let node = editorRef.children[0];\n      this.editor.on(\"text-change\", () => {\n        let html = node.innerHTML;\n        if (html === \"<p><br></p>\") {\n          html = \"\";\n        }\n        this.content = html;\n        this.$emit(\"input\", this.content);\n      });\n    },\n    pasteHTML() {\n      if (!this.editor) {\n        return;\n      }\n      this.editor.pasteHTML(this.value);\n    },\n    randomString() {\n      let text = \"\";\n      let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n      for (let i = 0; i < 5; i++)\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      return text;\n    },\n  },\n  async mounted() {\n    let Quill = await import(\"quill\");\n    Quill = Quill.default || Quill;\n    this.editorId = this.randomString();\n    this.toolbarId = this.randomString();\n    this.$nextTick(() => {\n      this.initialize(Quill);\n    });\n  },\n  watch: {\n    value(newVal) {\n      if (newVal !== this.content) {\n        this.pasteHTML(newVal);\n      }\n    },\n  },\n};\n</script>\n"]}]}